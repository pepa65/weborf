// options.h.in
// Weborf copyright 2007 (GPL3+) Salvo "LtWorf" Tomaselli <tiposchi@tiscali.it>
// Some modification in this branch: pepa65 <solusos@passchier.net>

#include "config.h"
#include <unistd.h> //Needed because it defines the _POSIX_IPV6

#ifndef WEBORF_OPTIONS_H
#define WEBORF_OPTIONS_H

// System
#define ROOTUID 0               // UID for superuser
#define ROOTGID 0               // GID for superuser

// Network
#define MAXQ 40                 // Queue for connect requests
#define PORT "8080"             // Default port

#ifdef _POSIX_IPV6              // Enables ipv6 if supported
// Delete or comment-out the following line to disable IPv6
#define IPV6
#endif

// Threads
#define MAXTHREAD 300           // Max threads
#define INITIALTHREAD 12        // Thread started when free threads are low and when starting
#define LOWTHREAD 3             // Minimum number of free threads, before starting new ones
#define MAXFREETHREAD 12        // Maximum number of free threads, before starting to slowly close them
#define THREADCONTROL 10        // Polling frequence in seconds

// Server
//#define INDEX "index.html"    // If default index file not set, no serving them unless given with -I
// If BASEDIR is undefined then it will be set to $PWD on runtime
//#define BASEDIR "/var/www"    // Default basedir
#define READ_TIMEOUT 5000       // Timeout before closing inactive keep-alive connections, in milliseconds

// Buffers
#define INBUFFER 1024           // Size for buffer with the HTTP request
#define FILEBUF 4096            // Size of reads
#define MAXSCRIPTOUT 20480000   // Maximum size for a page generated by a script or internally
#define HEADBUF 1024            // Buffer for headers
#define PWDLIMIT 300            // Max size for password
#define INDEXMAXLEN 30
#define NBUFFER 15              // Buffer to contain the string representation of an integer
#define RBUFFER 128             // Buffer to contain a range
#define BUFFERED_READER_SIZE 2048
#define DATEBUFFER 50           // Buffer for text date
#define URI_LEN 256
#define PATH_LEN 1024
#define MIMETYPELEN 15          // Size of mimetype string

// Number of index pages allowed to search
#define MAXINDEXCOUNT 10

// LIMITS
#define POST_MAX_SIZE 4000000   // Maximum allowed size for POST data

// HTML
#define HTMLHEAD "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//\
EN\">\n<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; \
charset=UTF-8\" /><meta http-equiv=\"pragma\" content=\"no-cache\" /><title>"
#define CSS "body{font-family:Arial,sans-serif;} \
.foot{font:80%; color:#666; padding-top:4px; margin-bottom:600px;} \
a,a:active{text-decoration:none; color:#116;} a:visited{color:#616;} \
a:hover,a:focus{text-decoration:none;} \
body{background-color:#eee;} h2{margin-bottom:12px;} \
table{margin-left:12px;} th,td{font:80%; text-align:left; overflow:hidden;} th{font-weight:\
bold; padding-right:14px; padding-bottom:3px;} td{padding-right:14px;padding-left:5px;} \
td a{display:block; margin:-10em; padding:10em;} td a:hover{background-color:#ffd; color:#000;} \
.s,.s{text-align:right;} .list{background-color:#fff; border-top:1px solid #666; \
border-bottom:1px solid #666; padding-top:8px; padding-bottom:12px;}\
.i{font-style:italic;} .b{font-weight:bold;} .darker{background-color:#bbb;} \
.dark{background-color:#ddd;} .light{background-color:#fff;}"

#define HTMLFOOT "</div><a href=\"" PACKAGE_URL "\" title=\"" PACKAGE_NAME " github page\"><span class=\"foot\">" PACKAGE_STRING "</span></a></body></html>"

// SCRIPTS
#define SCRPT_TIMEOUT 30        // Timeout for the scripts, in seconds
#define HIDE_CGI_ERRORS         // Hides all the errors

//#define CGI_PHP "@cgibindir@/php5"
//#define CGI_PY "@cgibindir@/weborf_py_wrapper"
//#define CGI_PHP "/usr/lib/cgi-bin/php5"
//#define CGI_PY "/usr/lib/cgi-bin/weborf_py_wrapper"
#define CGI_PHP "/usr/bin/php-cgi"
#define CGI_PY "/usr/local/bin/weborf_py_wrapper"

// COMPRESSING PAGES
//#define __COMPRESSION         // Comment to disable support for compressing pages
#ifdef __COMPRESSION
#define SIZE_COMPRESS_MIN 512
#define SIZE_COMPRESS_MAX 4000000000
#define GZIPNICE 4              // Nice value for gzip process
#endif

// The following header can be disabled to increase speed
//#define SEND_LAST_MODIFIED_HEADER

#ifdef HAVE_LIBMAGIC
#define SEND_MIMETYPES          // Enables support to sending the mimetype to the client
#endif

// RANGE
#define __RANGE                 // Enables support to range (partial download)

// WEBDAV
#define WEBDAV                  // Enables webdav support
#ifdef WEBDAV
#define MAXPROPCOUNT 40         // Number of supported properties
#define HIDE_HIDDEN_FILES       // Hides hidden files
#endif

// Logging options
#define THREADDBG
#define SOCKETDBG
#define SENDINGDBG
#define SERVERDBG
#define REQUESTDBG

#endif
